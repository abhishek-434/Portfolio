{% extends 'portfolio/base.html' %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero">
    <div class="hero-content">
        <h1>Hi, I'm <span class="neon-text">{{ profile.name|default:"Developer" }}</span></h1>
        <h2 class="typing-text">I am a <span class="role"></span></h2>
        <p>{{ profile.bio|default:"Welcome to my portfolio." }}</p>
        <div class="hero-buttons">
            <a href="#projects" class="btn glow-btn">View Work</a>
            <a href="#contact" class="btn outline-btn">Contact Me</a>
        </div>
    </div>
    <div class="hero-image">
        {% if profile.image %}
        <img src="{{ profile.image.url }}" alt="{{ profile.name }}">
        {% endif %}
    </div>
</section>

<!-- About Section -->
<section id="about" class="about section-padding">
    <h2 class="section-title">About Me</h2>
    <div class="glass-card about-card fade-in">
        <p>{{ profile.bio|linebreaks }}</p>
    </div>
</section>

<!-- Skills Section -->
<section id="skills" class="skills section-padding">
    <h2 class="section-title">Skills</h2>
    <div class="skills-grid">
        {% for skill in skills %}
        <div class="skill-card glass-card">
            <div class="glow"></div>
            <div class="skill-content">
                <div class="icon-container">
                    <i class="{{ skill.icon_class }} skill-icon"></i>
                </div>
                <h3>{{ skill.name }}</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress" style="width: {{ skill.proficiency|default:'0' }}%">
                            <div class="progress-glow"></div>
                        </div>
                    </div>
                    <span class="percentage">{{ skill.proficiency|default:'0' }}%</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Projects Section -->
<section id="projects" class="projects section-padding">
    <h2 class="section-title">Projects</h2>
    <div class="projects-grid">
        {% for project in projects %}
        <div class="project-card glass-card fade-in">
            {% if project.image %}
            <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-img">
            {% endif %}
            <div class="project-info">
                <h3>{{ project.title }}</h3>
                <p>{{ project.description|truncatewords:20 }}</p>
                <div class="tags">
                    {% for tool in project.tools.split %}
                    <span class="tag">{{ tool }}</span>
                    {% endfor %}
                </div>
                <div class="project-links">
                    {% if project.live_link %}
                    <a href="{{ project.live_link }}" target="_blank" class="btn sm-btn">Live Demo</a>
                    {% endif %}
                    {% if project.repo_link %}
                    <a href="{{ project.repo_link }}" target="_blank" class="btn sm-btn outline">GitHub</a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Experience & Education Section -->
<section id="experience" class="experience section-padding">
    <h2 class="section-title">Experience & Education</h2>
    <div class="timeline-container">
        <div class="timeline-column">
            <h3>Experience</h3>
            {% for exp in experiences %}
            <div class="timeline-item glass-card slide-up">
                <h4>{{ exp.role }}</h4>
                <h5>{{ exp.company }}</h5>
                <span class="date">{{ exp.start_date|date:"M Y" }} - {% if exp.end_date %}{{ exp.end_date|date:"M Y"
                    }}{% else %}Present{% endif %}</span>
                <p>{{ exp.description }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="timeline-column">
            <h3>Education</h3>
            {% for edu in educations %}
            <div class="timeline-item glass-card slide-up">
                <h4>{{ edu.degree }}</h4>
                <h5>{{ edu.institution }}</h5>
                <span class="date">{{ edu.start_date|date:"Y" }} - {% if edu.end_date %}{{ edu.end_date|date:"Y" }}{%
                    else %}Present{% endif %}</span>
                <p>{{ edu.description }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact section-padding">
    <h2 class="section-title">Get In Touch</h2>
    <div class="contact-container glass-card fade-in">
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <input type="text" name="name" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <input type="email" name="email" placeholder="Your Email" required>
            </div>
            <div class="form-group">
                <input type="text" name="subject" placeholder="Subject" required>
            </div>
            <div class="form-group">
                <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="btn glow-btn">Send Message</button>
        </form>
    </div>
</section>
{% endblock %}